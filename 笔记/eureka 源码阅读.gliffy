{"contentType":"application/gliffy+json","version":"1.1","metadata":{"title":"untitled","revision":0,"exportBorder":false},"embeddedResources":{"index":0,"resources":[]},"stage":{"objects":[{"x":2512,"y":290,"rotation":0,"id":82,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":339,"height":16,"lockAspectRatio":false,"lockShape":false,"order":82,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">自身实例信息和拉取到的服务信息</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":3042.5,"y":79.5,"rotation":0,"id":81,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":355,"height":16,"lockAspectRatio":false,"lockShape":false,"order":81,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">注册中心启动类</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":3160,"y":700,"rotation":0,"id":77,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":402,"height":16,"lockAspectRatio":false,"lockShape":false,"order":46,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">向注册中心发一个 rest 请求</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1000,"y":660,"rotation":0,"id":63,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":220,"height":20,"lockAspectRatio":false,"lockShape":false,"order":37,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 20.5px;\">服务发现</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":628,"y":160.5,"rotation":0,"id":47,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":343,"height":32,"lockAspectRatio":false,"lockShape":false,"order":27,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">answer ： 在构造方法中开启了定时任务\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">注册发现  心跳 等。</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":40,"y":310,"rotation":0,"id":22,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":565,"height":128,"lockAspectRatio":false,"lockShape":false,"order":15,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">如何搭建本地调试环境 ？？？\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">根据这篇博客搭建好本地调试环境\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">https://blog.csdn.net/why_2012_gogo/article/details/83305167\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">EurekaClientServerRestIntegrationTest  相当于注册中心\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">ExampleEurekaService                           相当于一个服务提供者\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">ExampleEurekaClient                              相当于一个消费者\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\"></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":45,"y":188,"rotation":0,"id":7,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":423,"height":80,"lockAspectRatio":false,"lockShape":false,"order":6,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">工程下载地址 \n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">https://github.com/Netflix/eureka\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">编译项目\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">./gradlew clean  build</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":41,"y":25,"rotation":0,"id":0,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":376,"height":50,"lockAspectRatio":false,"lockShape":false,"order":0,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 20.5px;\">Eureka 源码阅读\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 20.5px;\">Netflix  Eureka</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":43,"y":108,"rotation":0,"id":6,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":16,"lockAspectRatio":false,"lockShape":false,"order":5,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">源码阅读环境搭建</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":40,"y":600,"rotation":0,"id":23,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":64,"lockAspectRatio":false,"lockShape":false,"order":16,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">服务注册源码分析\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px; text-decoration: none;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">服务注册发现的核心逻辑在 DiscoveryClient</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":624,"y":258,"rotation":0,"id":28,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":1,"lockAspectRatio":false,"lockShape":false,"order":18,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2512,"y":72.5,"rotation":0,"id":21,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":395,"height":48,"lockAspectRatio":false,"lockShape":false,"order":14,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">可以认为就是一个工具类\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">可以加载 META-INF/spring.factories  下的配置类 ， 并实例化作为 spring 的配置项</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2510,"y":29.5,"rotation":0,"id":20,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":291,"height":16,"lockAspectRatio":false,"lockShape":false,"order":13,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">SpringFactoryLoader</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2006.5,"y":71.5,"rotation":0,"id":16,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":395,"height":48,"lockAspectRatio":false,"lockShape":false,"order":12,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">以不同方式获取服务实列\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">获取当前客户端本地信息\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">提供注册和暴露健康检查的端点</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2012,"y":22.5,"rotation":0,"id":14,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":291,"height":16,"lockAspectRatio":false,"lockShape":false,"order":11,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">接口  EurekaClient   功能概览</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2010.5,"y":276.5,"rotation":0,"id":12,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":360,"height":128,"lockAspectRatio":false,"lockShape":false,"order":10,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">该类的职责是和 注册中心交互\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">服务注册 \n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">续约\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">当关闭时取消注册\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">从注册中心查询服务\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">客户端需要配置服务注册中心地址 ，当和一个节点交互失败时 ， 会快速切换到另一个节点</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2008.5,"y":224.5,"rotation":0,"id":11,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":291,"height":16,"lockAspectRatio":false,"lockShape":false,"order":9,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">DiscoveryClient   详解</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1212,"y":302.5,"rotation":0,"id":9,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":670,"height":192,"lockAspectRatio":false,"lockShape":false,"order":8,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">EnableDiscoveryClient\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">EnableDiscoveryClientImportSelector\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">SpringFactoriesLoader\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">org.springframework.cloud.netflix.eureka.config.EurekaClientConfigServerAutoConfiguration,\\\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">org.springframework.cloud.netflix.eureka.config.EurekaDiscoveryClientConfigServiceAutoConfiguration,\\\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration,\\\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">DiscoveryClient</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1214,"y":224.5,"rotation":0,"id":8,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":319,"height":48,"lockAspectRatio":false,"lockShape":false,"order":7,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">DiscoveryClient\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">服务发现注册</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1212,"y":172.5,"rotation":0,"id":4,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":292,"height":16,"lockAspectRatio":false,"lockShape":false,"order":4,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">将 eureka 的类 ，导入到 spring 中进行管理</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1210,"y":144.5,"rotation":0,"id":3,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":319,"height":16,"lockAspectRatio":false,"lockShape":false,"order":3,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">EurekaServerAutoConfiguration</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1210,"y":92.5,"rotation":0,"id":2,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":16,"lockAspectRatio":false,"lockShape":false,"order":2,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">重要的类</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":626,"y":118.5,"rotation":0,"id":27,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":16,"lockAspectRatio":false,"lockShape":false,"order":17,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">1. discoveryClient 是怎样开始服务的注册发现的 ？ </span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":666,"y":82.5,"rotation":0,"id":1,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":16,"lockAspectRatio":false,"lockShape":false,"order":1,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">问题</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":100,"y":840,"rotation":0,"id":33,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":310,"height":140,"lockAspectRatio":false,"lockShape":false,"order":20,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":6.1999999999999975,"y":0,"rotation":0,"id":35,"uid":null,"width":297.6,"height":112,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line  435     line 1250\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">initScheduledTasks()\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">开启定时任务 :  集群   心跳  注册/发现\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; text-decoration: none; color: rgb(0, 0, 0);\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">new CacheRefreshThread()             服务发现\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">new HeartbeatThread()                    心跳保活\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\"> new InstanceInfoReplicator             服务注册</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":110,"y":690,"rotation":0,"id":31,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":620,"height":80,"lockAspectRatio":false,"lockShape":false,"order":19,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line  301\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">@Inject\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">DiscoveryClient(ApplicationInfoManager applicationInfoManager, EurekaClientConfig config, AbstractDiscoveryClientOptionalArgs args,\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">Provider&lt;BackupRegistry&gt; backupRegistryProvider)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":630,"y":228,"rotation":0,"id":57,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":16,"lockAspectRatio":false,"lockShape":false,"order":34,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">2. 服务存储的数据结构是怎么样的 ？   Applications</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":630,"y":290,"rotation":0,"id":60,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":32,"lockAspectRatio":false,"lockShape":false,"order":35,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">3. 弄清楚两种更新方式\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">   全量更新和增量更新 </span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":630,"y":370,"rotation":0,"id":61,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":16,"lockAspectRatio":false,"lockShape":false,"order":36,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">4. 思考一下哪些地方需要线程安全 ， 锁的应用</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1007.5,"y":1297.25,"rotation":0,"id":54,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":155,"height":75,"lockAspectRatio":false,"lockShape":false,"order":32,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":3.0999999999999996,"y":0,"rotation":0,"id":56,"uid":null,"width":148.79999999999998,"height":16,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">localRegionApps</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1331.5,"y":1117.25,"rotation":0,"id":51,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":246.99999999999997,"height":75,"lockAspectRatio":false,"lockShape":false,"order":30,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":4.939999999999999,"y":0,"rotation":0,"id":53,"uid":null,"width":237.11999999999995,"height":32,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">getAndUpdateDelta(applications);\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line 1081</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":980,"y":1117.25,"rotation":0,"id":48,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":210,"height":75,"lockAspectRatio":false,"lockShape":false,"order":28,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":4.199999999999999,"y":0,"rotation":0,"id":50,"uid":null,"width":201.60000000000002,"height":32,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">getAndStoreFullRegistry();\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line 1044</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1470,"y":927.25,"rotation":0,"id":45,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":16,"lockAspectRatio":false,"lockShape":false,"order":26,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">★ ★ ★ </span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1045,"y":927.25,"rotation":0,"id":40,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":410,"height":75,"lockAspectRatio":false,"lockShape":false,"order":24,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":8.199999999999998,"y":0,"rotation":0,"id":42,"uid":null,"width":393.5999999999999,"height":32,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line 1479    line 943\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">boolean success = fetchRegistry(remoteRegionsModified);</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1150,"y":750,"rotation":0,"id":37,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":200,"height":75,"lockAspectRatio":false,"lockShape":false,"order":22,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":3.9999999999999987,"y":0,"rotation":0,"id":39,"uid":null,"width":191.99999999999994,"height":16,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">refreshRegistry();</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1930,"y":709,"rotation":0,"id":68,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":281,"height":32,"lockAspectRatio":false,"lockShape":false,"order":41,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">保持与注册中心的续约 ， 更新最后心跳时间\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">向注册中心发送 http 请求</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2276.5,"y":750,"rotation":0,"id":65,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":230,"height":75,"lockAspectRatio":false,"lockShape":false,"order":39,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":4.599999999999999,"y":0,"rotation":0,"id":67,"uid":null,"width":220.79999999999993,"height":32,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">new HeartbeatThread()\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line 1273</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":2240,"y":660,"rotation":0,"id":64,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":220,"height":20,"lockAspectRatio":false,"lockShape":false,"order":38,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 20.5px;\">心跳</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":630,"y":450,"rotation":0,"id":71,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":330,"height":16,"lockAspectRatio":false,"lockShape":false,"order":42,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">5. 心跳的原理</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":3010,"y":750,"rotation":0,"id":73,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":210,"height":75,"lockAspectRatio":false,"lockShape":false,"order":44,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":4.199999999999998,"y":0,"rotation":0,"id":75,"uid":null,"width":201.6,"height":32,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">boolean register()\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; white-space: pre-wrap; line-height: 16.5px; color: rgb(0, 0, 0);\">line  825</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":3080,"y":660,"rotation":0,"id":72,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":220,"height":20,"lockAspectRatio":false,"lockShape":false,"order":43,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 20.5px;\">服务注册</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":2514,"y":232.5,"rotation":0,"id":78,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":291,"height":16,"lockAspectRatio":false,"lockShape":false,"order":47,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">ApplicationInfoManager</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":422,"y":840,"rotation":0,"id":79,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":48,"lockAspectRatio":false,"lockShape":false,"order":48,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">开启所有核心定时任务\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px; text-decoration: none;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">★ ★ ★ </span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":3046.5,"y":38.5,"rotation":0,"id":80,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":291,"height":16,"lockAspectRatio":false,"lockShape":false,"order":49,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(0, 255, 0); white-space: pre-wrap; line-height: 16.5px;\">ApplicationInfoManager</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]}],"background":"#FFFFFF","width":3560,"height":1373,"maxWidth":5000,"maxHeight":5000,"nodeIndex":83,"autoFit":true,"exportBorder":false,"gridOn":true,"snapToGrid":true,"drawingGuidesOn":true,"pageBreaksOn":false,"printGridOn":false,"printPaper":"LETTER","printShrinkToFit":false,"printPortrait":true,"shapeStyles":{"com.gliffy.shape.basic.basic_v1.default":{"fill":"#FFFFFF","stroke":"#333333","strokeWidth":2}},"lineStyles":{},"textStyles":{},"themeData":null}}